<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1" /><link rel="stylesheet" type="text/css" href="/style-plain.css"/><link rel="icon" href="/favicon.png"/><title>Syntax highlighting in Python</title></head><body><div class="container"><div class="text-block"><a href="/default.html">home</a></div><div class="header">Syntax highlighting in Python</div><p>I created a syntax highlighter to make my codes looking colorful in my blog. It is written in Python, so it does not require a Javascript code when the page is loaded. It is useful when you create html pages for documentation or a blog. Instead of making it packaged, I share the code piece, so it will be easer to modify when you find something missing.</p><p> </p><pre><span class="identifier">reserved</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="bracked_begin">[</span><span class="whitespace">
</span><span class="string">"if"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"elif"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"else"</span><span class="comma">,</span><span class="whitespace">
</span><span class="string">"while"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"for"</span><span class="comma">,</span><span class="whitespace">
</span><span class="string">"def"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"return"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"global"</span><span class="comma">,</span><span class="whitespace">
</span><span class="string">"import"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"from"</span><span class="comma">,</span><span class="whitespace">
</span><span class="string">"continue"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"break"</span><span class="comma">,</span><span class="whitespace">
</span><span class="string">"del"</span><span class="comma">,</span><span class="whitespace">
</span><span class="string">"in"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"not"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"or"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"and"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"is"</span><span class="comma">,</span><span class="whitespace">
</span><span class="string">"raise"</span><span class="comma">,</span><span class="whitespace">
</span><span class="string">"class"</span><span class="comma">,</span><span class="whitespace">
</span><span class="bracket_end">]</span><span class="whitespace">
</span><span class="identifier">spaceinstring</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="string">"space in string"</span><span class="whitespace">
</span><span class="identifier">whitespace</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="bracked_begin">[</span><span class="string">" "</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"\n"</span><span class="bracket_end">]</span><span class="whitespace">
</span><span class="identifier">quotes</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="bracked_begin">[</span><span class="string">"'"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">'"'</span><span class="bracket_end">]</span><span class="whitespace">
</span><span class="identifier">nums</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="string">"0123456789"</span><span class="whitespace">
</span><span class="identifier">abc</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="string">"abcdefghijklmnoprstuvyzwxq"</span><span class="whitespace">
</span><span class="identifier">abc</span><span class="whitespace"> </span><span class="operator">+</span><span class="operator">=</span><span class="whitespace"> </span><span class="identifier">abc</span><span class="dot">.</span><span class="identifier">upper</span><span class="paran_begin">(</span><span class="paran_end">)</span><span class="whitespace"> </span><span class="operator">+</span><span class="whitespace"> </span><span class="string">"_"</span><span class="whitespace">
</span><span class="identifier">operators</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="bracked_begin">[</span><span class="string">"="</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"&lt;"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"&gt;"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"+"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"-"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"="</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"/"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"*"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"?"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"&lt;="</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"&gt;="</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"=="</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"!"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"!="</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"%"</span><span class="bracket_end">]</span><span class="whitespace">
</span><span class="identifier">named_tokens</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="curly_begin">{</span><span class="whitespace">
  </span><span class="string">","</span><span class="colon">:</span><span class="whitespace"> </span><span class="string">"comma"</span><span class="comma">,</span><span class="whitespace">
  </span><span class="string">"."</span><span class="colon">:</span><span class="whitespace"> </span><span class="string">"dot"</span><span class="comma">,</span><span class="whitespace">
  </span><span class="string">"["</span><span class="colon">:</span><span class="whitespace"> </span><span class="string">"bracked_begin"</span><span class="comma">,</span><span class="whitespace">
  </span><span class="string">"]"</span><span class="colon">:</span><span class="whitespace"> </span><span class="string">"bracket_end"</span><span class="comma">,</span><span class="whitespace">
  </span><span class="string">"("</span><span class="colon">:</span><span class="whitespace"> </span><span class="string">"paran_begin"</span><span class="comma">,</span><span class="whitespace">
  </span><span class="string">")"</span><span class="colon">:</span><span class="whitespace"> </span><span class="string">"paran_end"</span><span class="comma">,</span><span class="whitespace">
  </span><span class="string">"{"</span><span class="colon">:</span><span class="whitespace"> </span><span class="string">"curly_begin"</span><span class="comma">,</span><span class="whitespace">
  </span><span class="string">"}"</span><span class="colon">:</span><span class="whitespace"> </span><span class="string">"curly_end"</span><span class="comma">,</span><span class="whitespace">
  </span><span class="string">";"</span><span class="colon">:</span><span class="whitespace"> </span><span class="string">"semicolon"</span><span class="comma">,</span><span class="whitespace">
  </span><span class="string">":"</span><span class="colon">:</span><span class="whitespace"> </span><span class="string">"colon"</span><span class="comma">,</span><span class="whitespace">
</span><span class="curly_end">}</span><span class="whitespace">
</span><span class="identifier">quote_escape</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="identifier">chr</span><span class="paran_begin">(</span><span class="number">92</span><span class="paran_end">)</span><span class="whitespace">
</span><span class="identifier">reserved_identifiers</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="bracked_begin">[</span><span class="string">"None"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"True"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"False"</span><span class="bracket_end">]</span><span class="whitespace">

</span><span class="reserved">def</span><span class="whitespace"> </span><span class="identifier">seek_new_token</span><span class="paran_begin">(</span><span class="paran_end">)</span><span class="colon">:</span><span class="whitespace">
  </span><span class="identifier">i</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"i"</span><span class="bracket_end">]</span><span class="whitespace">
  </span><span class="reserved">if</span><span class="whitespace"> </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"char"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="reserved">in</span><span class="whitespace"> </span><span class="identifier">quotes</span><span class="colon">:</span><span class="whitespace">
    </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"current_quote"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"char"</span><span class="bracket_end">]</span><span class="whitespace">
    </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="curly_begin">{</span><span class="string">"type"</span><span class="colon">:</span><span class="whitespace"> </span><span class="string">"string"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"starts"</span><span class="colon">:</span><span class="whitespace"> </span><span class="identifier">i</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"ends"</span><span class="colon">:</span><span class="whitespace"> </span><span class="identifier">i</span><span class="operator">+</span><span class="number">1</span><span class="curly_end">}</span><span class="whitespace">
    </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"tokens"</span><span class="bracket_end">]</span><span class="dot">.</span><span class="identifier">append</span><span class="paran_begin">(</span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="paran_end">)</span><span class="whitespace">
  </span><span class="reserved">elif</span><span class="whitespace"> </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"char"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="reserved">in</span><span class="whitespace"> </span><span class="identifier">operators</span><span class="colon">:</span><span class="whitespace">
    </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="curly_begin">{</span><span class="string">"type"</span><span class="colon">:</span><span class="whitespace"> </span><span class="string">"operator"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"starts"</span><span class="colon">:</span><span class="whitespace"> </span><span class="identifier">i</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"ends"</span><span class="colon">:</span><span class="whitespace"> </span><span class="identifier">i</span><span class="operator">+</span><span class="number">1</span><span class="curly_end">}</span><span class="whitespace">
    </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"tokens"</span><span class="bracket_end">]</span><span class="dot">.</span><span class="identifier">append</span><span class="paran_begin">(</span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="paran_end">)</span><span class="whitespace">
  </span><span class="reserved">elif</span><span class="whitespace"> </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"char"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="reserved">in</span><span class="whitespace"> </span><span class="identifier">nums</span><span class="colon">:</span><span class="whitespace">
    </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="curly_begin">{</span><span class="string">"type"</span><span class="colon">:</span><span class="whitespace"> </span><span class="string">"number"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"starts"</span><span class="colon">:</span><span class="whitespace"> </span><span class="identifier">i</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"ends"</span><span class="colon">:</span><span class="whitespace"> </span><span class="identifier">i</span><span class="operator">+</span><span class="number">1</span><span class="curly_end">}</span><span class="whitespace">
    </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"tokens"</span><span class="bracket_end">]</span><span class="dot">.</span><span class="identifier">append</span><span class="paran_begin">(</span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="paran_end">)</span><span class="whitespace">
  </span><span class="reserved">elif</span><span class="whitespace"> </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"char"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="reserved">in</span><span class="whitespace"> </span><span class="identifier">abc</span><span class="colon">:</span><span class="whitespace">
    </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="curly_begin">{</span><span class="string">"type"</span><span class="colon">:</span><span class="whitespace"> </span><span class="string">"identifier"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"starts"</span><span class="colon">:</span><span class="whitespace"> </span><span class="identifier">i</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"ends"</span><span class="colon">:</span><span class="whitespace"> </span><span class="identifier">i</span><span class="operator">+</span><span class="number">1</span><span class="curly_end">}</span><span class="whitespace">
    </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"tokens"</span><span class="bracket_end">]</span><span class="dot">.</span><span class="identifier">append</span><span class="paran_begin">(</span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="paran_end">)</span><span class="whitespace">
  </span><span class="reserved">elif</span><span class="whitespace"> </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"char"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="reserved">in</span><span class="whitespace"> </span><span class="identifier">named_tokens</span><span class="colon">:</span><span class="whitespace">
    </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"tokens"</span><span class="bracket_end">]</span><span class="dot">.</span><span class="identifier">append</span><span class="paran_begin">(</span><span class="curly_begin">{</span><span class="string">"type"</span><span class="colon">:</span><span class="whitespace"> </span><span class="identifier">named_tokens</span><span class="bracked_begin">[</span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"char"</span><span class="bracket_end">]</span><span class="bracket_end">]</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"starts"</span><span class="colon">:</span><span class="whitespace"> </span><span class="identifier">i</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"ends"</span><span class="colon">:</span><span class="whitespace"> </span><span class="identifier">i</span><span class="operator">+</span><span class="number">1</span><span class="curly_end">}</span><span class="paran_end">)</span><span class="whitespace">
  </span><span class="reserved">elif</span><span class="whitespace"> </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"char"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">==</span><span class="whitespace"> </span><span class="string">"#"</span><span class="colon">:</span><span class="whitespace">
    </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="curly_begin">{</span><span class="string">"type"</span><span class="colon">:</span><span class="whitespace"> </span><span class="string">"comment"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"starts"</span><span class="colon">:</span><span class="whitespace"> </span><span class="identifier">i</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"ends"</span><span class="colon">:</span><span class="whitespace"> </span><span class="identifier">i</span><span class="operator">+</span><span class="number">1</span><span class="curly_end">}</span><span class="whitespace">
    </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"tokens"</span><span class="bracket_end">]</span><span class="dot">.</span><span class="identifier">append</span><span class="paran_begin">(</span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="paran_end">)</span><span class="whitespace">
  </span><span class="reserved">elif</span><span class="whitespace"> </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"char"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="reserved">in</span><span class="whitespace"> </span><span class="identifier">whitespace</span><span class="colon">:</span><span class="whitespace">
    </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="curly_begin">{</span><span class="string">"type"</span><span class="colon">:</span><span class="whitespace"> </span><span class="string">"whitespace"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"starts"</span><span class="colon">:</span><span class="whitespace"> </span><span class="identifier">i</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"ends"</span><span class="colon">:</span><span class="whitespace"> </span><span class="identifier">i</span><span class="operator">+</span><span class="number">1</span><span class="curly_end">}</span><span class="whitespace">
    </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"tokens"</span><span class="bracket_end">]</span><span class="dot">.</span><span class="identifier">append</span><span class="paran_begin">(</span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="paran_end">)</span><span class="whitespace">

</span><span class="identifier">tokenizer</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="curly_begin">{</span><span class="whitespace">
  </span><span class="string">"i"</span><span class="colon">:</span><span class="whitespace"> </span><span class="number">0</span><span class="comma">,</span><span class="whitespace">
  </span><span class="string">"current_quote"</span><span class="colon">:</span><span class="whitespace"> </span><span class="reserved-identifier">None</span><span class="comma">,</span><span class="whitespace">
  </span><span class="string">"token"</span><span class="colon">:</span><span class="whitespace"> </span><span class="reserved-identifier">None</span><span class="comma">,</span><span class="whitespace">
  </span><span class="string">"tokens"</span><span class="colon">:</span><span class="whitespace"> </span><span class="bracked_begin">[</span><span class="bracket_end">]</span><span class="comma">,</span><span class="whitespace">
  </span><span class="string">"char"</span><span class="colon">:</span><span class="whitespace"> </span><span class="reserved-identifier">None</span><span class="whitespace">
</span><span class="curly_end">}</span><span class="whitespace">

</span><span class="reserved">def</span><span class="whitespace"> </span><span class="identifier">reset</span><span class="paran_begin">(</span><span class="paran_end">)</span><span class="colon">:</span><span class="whitespace">
  </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"i"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="number">0</span><span class="whitespace">
  </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"current_quote"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="reserved-identifier">None</span><span class="whitespace">
  </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="reserved-identifier">None</span><span class="whitespace">
  </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"tokens"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="bracked_begin">[</span><span class="bracket_end">]</span><span class="whitespace">
  </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"char"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="reserved-identifier">None</span><span class="whitespace">

</span><span class="reserved">def</span><span class="whitespace"> </span><span class="identifier">tokenize</span><span class="paran_begin">(</span><span class="identifier">text</span><span class="paran_end">)</span><span class="colon">:</span><span class="whitespace">
  </span><span class="identifier">reset</span><span class="paran_begin">(</span><span class="paran_end">)</span><span class="whitespace">
  </span><span class="reserved">while</span><span class="whitespace"> </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"i"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">&lt;</span><span class="whitespace"> </span><span class="identifier">len</span><span class="paran_begin">(</span><span class="identifier">text</span><span class="paran_end">)</span><span class="colon">:</span><span class="whitespace">
    </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"char"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="identifier">text</span><span class="bracked_begin">[</span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"i"</span><span class="bracket_end">]</span><span class="bracket_end">]</span><span class="whitespace">
    </span><span class="reserved">if</span><span class="whitespace"> </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="colon">:</span><span class="whitespace">
      </span><span class="identifier">token_next</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="identifier">text</span><span class="bracked_begin">[</span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="bracked_begin">[</span><span class="string">"starts"</span><span class="bracket_end">]</span><span class="colon">:</span><span class="whitespace"> </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"i"</span><span class="bracket_end">]</span><span class="operator">+</span><span class="number">1</span><span class="bracket_end">]</span><span class="whitespace">
      </span><span class="reserved">if</span><span class="whitespace"> </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="bracked_begin">[</span><span class="string">"type"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">==</span><span class="whitespace"> </span><span class="string">"string"</span><span class="colon">:</span><span class="whitespace">
        </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="bracked_begin">[</span><span class="string">"ends"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">+</span><span class="operator">=</span><span class="whitespace"> </span><span class="number">1</span><span class="whitespace">
        </span><span class="reserved">if</span><span class="whitespace"> </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"char"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">==</span><span class="whitespace"> </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"current_quote"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="reserved">and</span><span class="whitespace"> </span><span class="identifier">text</span><span class="bracked_begin">[</span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"i"</span><span class="bracket_end">]</span><span class="operator">-</span><span class="number">1</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">!=</span><span class="whitespace"> </span><span class="identifier">quote_escape</span><span class="colon">:</span><span class="whitespace">
          </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="reserved-identifier">None</span><span class="whitespace">
          </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"current_quote"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="reserved-identifier">None</span><span class="whitespace">
      </span><span class="reserved">elif</span><span class="whitespace"> </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="bracked_begin">[</span><span class="string">"type"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">==</span><span class="whitespace"> </span><span class="string">"operator"</span><span class="colon">:</span><span class="whitespace">
        </span><span class="reserved">if</span><span class="whitespace"> </span><span class="identifier">token_next</span><span class="whitespace"> </span><span class="reserved">in</span><span class="whitespace"> </span><span class="identifier">operators</span><span class="colon">:</span><span class="whitespace">
          </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="bracked_begin">[</span><span class="string">"ends"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">+</span><span class="operator">=</span><span class="whitespace"> </span><span class="number">1</span><span class="whitespace">
        </span><span class="reserved">else</span><span class="colon">:</span><span class="whitespace">
          </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="reserved-identifier">None</span><span class="whitespace">
          </span><span class="identifier">seek_new_token</span><span class="paran_begin">(</span><span class="paran_end">)</span><span class="whitespace">
      </span><span class="reserved">elif</span><span class="whitespace"> </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="bracked_begin">[</span><span class="string">"type"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">==</span><span class="whitespace"> </span><span class="string">"number"</span><span class="colon">:</span><span class="whitespace">
        </span><span class="reserved">if</span><span class="whitespace"> </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"char"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="reserved">in</span><span class="whitespace"> </span><span class="identifier">nums</span><span class="colon">:</span><span class="whitespace">
          </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="bracked_begin">[</span><span class="string">"ends"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">+</span><span class="operator">=</span><span class="whitespace"> </span><span class="number">1</span><span class="whitespace">
        </span><span class="reserved">else</span><span class="colon">:</span><span class="whitespace">
          </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="reserved-identifier">None</span><span class="whitespace">
          </span><span class="identifier">seek_new_token</span><span class="paran_begin">(</span><span class="paran_end">)</span><span class="whitespace">
      </span><span class="reserved">elif</span><span class="whitespace"> </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="bracked_begin">[</span><span class="string">"type"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="reserved">in</span><span class="whitespace"> </span><span class="paran_begin">(</span><span class="string">"identifier"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"reserved"</span><span class="comma">,</span><span class="whitespace"> </span><span class="string">"reserved-identifier"</span><span class="paran_end">)</span><span class="colon">:</span><span class="whitespace">
        </span><span class="reserved">if</span><span class="whitespace"> </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"char"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="reserved">in</span><span class="whitespace"> </span><span class="identifier">abc</span><span class="whitespace"> </span><span class="reserved">or</span><span class="whitespace"> </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"char"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="reserved">in</span><span class="whitespace"> </span><span class="identifier">nums</span><span class="colon">:</span><span class="whitespace">
          </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="bracked_begin">[</span><span class="string">"ends"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">+</span><span class="operator">=</span><span class="whitespace"> </span><span class="number">1</span><span class="whitespace">
          </span><span class="reserved">if</span><span class="whitespace"> </span><span class="identifier">token_next</span><span class="whitespace"> </span><span class="reserved">in</span><span class="whitespace"> </span><span class="identifier">reserved_identifiers</span><span class="colon">:</span><span class="whitespace">
            </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="bracked_begin">[</span><span class="string">"type"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="string">"reserved-identifier"</span><span class="whitespace">
          </span><span class="reserved">elif</span><span class="whitespace"> </span><span class="identifier">token_next</span><span class="whitespace"> </span><span class="reserved">in</span><span class="whitespace"> </span><span class="identifier">reserved</span><span class="colon">:</span><span class="whitespace">
            </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="bracked_begin">[</span><span class="string">"type"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="string">"reserved"</span><span class="whitespace">
          </span><span class="reserved">else</span><span class="colon">:</span><span class="whitespace">
            </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="bracked_begin">[</span><span class="string">"type"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="string">"identifier"</span><span class="whitespace">
        </span><span class="reserved">else</span><span class="colon">:</span><span class="whitespace">
          </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="reserved-identifier">None</span><span class="whitespace">
          </span><span class="identifier">seek_new_token</span><span class="paran_begin">(</span><span class="paran_end">)</span><span class="whitespace">
      </span><span class="reserved">elif</span><span class="whitespace"> </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="bracked_begin">[</span><span class="string">"type"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">==</span><span class="whitespace"> </span><span class="string">"comment"</span><span class="colon">:</span><span class="whitespace">
        </span><span class="reserved">if</span><span class="whitespace"> </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"char"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">==</span><span class="whitespace"> </span><span class="string">"\n"</span><span class="colon">:</span><span class="whitespace">
          </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="reserved-identifier">None</span><span class="whitespace">
          </span><span class="identifier">seek_new_token</span><span class="paran_begin">(</span><span class="paran_end">)</span><span class="whitespace">
        </span><span class="reserved">else</span><span class="colon">:</span><span class="whitespace">
          </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="bracked_begin">[</span><span class="string">"ends"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">+</span><span class="operator">=</span><span class="whitespace"> </span><span class="number">1</span><span class="whitespace">
      </span><span class="reserved">elif</span><span class="whitespace"> </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="bracked_begin">[</span><span class="string">"type"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">==</span><span class="whitespace"> </span><span class="string">"whitespace"</span><span class="colon">:</span><span class="whitespace">
        </span><span class="reserved">if</span><span class="whitespace"> </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"char"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="reserved">in</span><span class="whitespace"> </span><span class="identifier">whitespace</span><span class="colon">:</span><span class="whitespace">
          </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="bracked_begin">[</span><span class="string">"ends"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">+</span><span class="operator">=</span><span class="whitespace"> </span><span class="number">1</span><span class="whitespace">
        </span><span class="reserved">else</span><span class="colon">:</span><span class="whitespace">
          </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"token"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">=</span><span class="whitespace"> </span><span class="reserved-identifier">None</span><span class="whitespace">
          </span><span class="identifier">seek_new_token</span><span class="paran_begin">(</span><span class="paran_end">)</span><span class="whitespace">
    </span><span class="reserved">else</span><span class="colon">:</span><span class="whitespace">
      </span><span class="identifier">seek_new_token</span><span class="paran_begin">(</span><span class="paran_end">)</span><span class="whitespace">
    </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"i"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="operator">+</span><span class="operator">=</span><span class="whitespace"> </span><span class="number">1</span><span class="whitespace">
  </span><span class="reserved">return</span><span class="whitespace"> </span><span class="identifier">tokenizer</span><span class="bracked_begin">[</span><span class="string">"tokens"</span><span class="bracket_end">]</span><span class="whitespace">
</span></pre><p> </p><p></p><p>By seeking all the characters with index, for an index of an iterated character, the function like below will be helpful to understand how the current character is categorized.</p><p> </p><pre><span class="reserved">def</span><span class="whitespace"> </span><span class="identifier">seek_token_by_char_index</span><span class="paran_begin">(</span><span class="identifier">tokens</span><span class="comma">,</span><span class="whitespace"> </span><span class="identifier">char_index</span><span class="paran_end">)</span><span class="colon">:</span><span class="whitespace">
  </span><span class="reserved">for</span><span class="whitespace"> </span><span class="identifier">token</span><span class="whitespace"> </span><span class="reserved">in</span><span class="whitespace"> </span><span class="identifier">tokens</span><span class="colon">:</span><span class="whitespace">
    </span><span class="reserved">if</span><span class="whitespace"> </span><span class="identifier">char_index</span><span class="whitespace"> </span><span class="operator">&gt;=</span><span class="whitespace"> </span><span class="identifier">token</span><span class="bracked_begin">[</span><span class="string">"starts"</span><span class="bracket_end">]</span><span class="whitespace"> </span><span class="reserved">and</span><span class="whitespace"> </span><span class="identifier">char_index</span><span class="whitespace"> </span><span class="operator">&lt;</span><span class="whitespace"> </span><span class="identifier">token</span><span class="bracked_begin">[</span><span class="string">"ends"</span><span class="bracket_end">]</span><span class="colon">:</span><span class="whitespace">
      </span><span class="reserved">return</span><span class="whitespace"> </span><span class="identifier">token</span><span class="whitespace">
</span></pre><p> </p><p>Good luck playing with that.</p><div class="footer"><a href="https://linkedin.com/in/fatih-erikli-2a8315337">linkedin.com/in/fatih-erikli-2a8315337</a></div></div></body></html>